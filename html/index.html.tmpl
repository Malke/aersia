<!doctype html>
<!--[if lt IE 7]>    <html className="no-js lt-ie9 lt-ie8 lt-ie7" lang="" ng-app="vip"> <![endif]-->
<!--[if IE 7]>     <html className="no-js lt-ie9 lt-ie8" lang="" ng-app="vip"> <![endif]-->
<!--[if IE 8]>     <html className="no-js lt-ie9" lang="" ng-app="vip"> <![endif]-->
<!--[if gt IE 8]><!--> <html className="no-js" lang="" ng-app="aersia"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title><!--%= friendlyname --> v<!--%= version --></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Generated favicons -->
    <!--%= favicons -->

    <link href='https://fonts.googleapis.com/css?family=Titillium+Web' rel='stylesheet' type='text/css'>

    <!-- CSS Stylesheets --><!--%= cssdeps -->

    <script src="assets/js/modernizr.js"></script>
  </head>
  <body ng-controller="aersiaController as aersiaCtrl">
    <!-- Invisible helper objects -->
    <!--%= compiledicons -->
    <!--%= compiledlayouts -->
    <!-- End invisible helpers -->

    <!--[if lt IE 8]>
      <p className="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->
    <div id="rootNode" />
    <GlobalLoader hidden={app.loading} />

    <div className="optionsbox hidden">
      <div className="effeckt-tabs-wrap" data-effeckt-type="slide-left">
        <div className="effeckt-tabs">
          <li><a data-tab-id="#tab-songinfo" className="effeckt-tab">Current Song</a></li>
          <li><a data-tab-id="#tab-layout" className="effeckt-tab">Layout</a></li>
          <li><a data-tab-id="#tab-theme" className="effeckt-tab">Theme</a></li>
        </div>
        <div className="effeckt-tabs-container">

          <div id="tab-songinfo" className="effeckt-tab-content">

            <img id="oboxSongImg" className="fade" src="assets/img/placeholder.png" />

            <!-- Song information, links, etc. -->
            <div className="infopane-h">
              <div className="vbox">
                <div className="vbox songinfo">
                  <li id="oboxSongTitle">Loading...</li>
                  <li id="oboxSongCreator">Loading...</li>
                </div>
                <div className="controls-container">
                  <ClickableIconToggle glyphs={['poweron', 'poweroff']} onClick={aersiaCtrl.toggleShuffle} />
                  <div className="hidden">
                    <div className="spacer"></div>
                    <ClickableIcon onClick={aersiaCtrl.rateUp} glyph="rateup" />
                    </div>
                    <ClickableIcon onClick={aersiaCtrl.rateDown} glyph="ratedown" />
                    </div>
                    <div className="controls-text" id="curSongRating" >0</div>
                  </div>
                  <div className="spacer"></div>
                  <!-- <ClickableIcon onClick={() => aersiaCtrl.triggerLinkDownload(aersiaCtrl.songs[aersiaCtrl.curSong].location)} glyph="download" /> -->
                  <ClickableIcon glyph="share" />
                </div>
              </div>
              <div className="vbox">
                <section>
                  <div><label>
                    Playlists
                    <select name="preset" ng-model="aersiaCtrl.selectedPlaylist" onChange={aersiaCtrl.changePlaylist} />
                      <option ng-repeat="(option,null) in aersiaCtrl.playlists" value="{{option}}">{{aersiaCtrl.playlists[option].longName}}</option>
                    </select>
                  </label></div>
                </section>
                <div className='sep'></div>
                <section>
                  <div><label className="topcoat-checkbox"><input type="checkbox" name="autoplay" ng-model="aersiaCtrl.autoplay" /><div className="topcoat-checkbox__checkmark"></div>Autoplay</label></div>
                  <div><label className="topcoat-checkbox"><input type="checkbox" name="anims" ng-model="aersiaCtrl.features.animations.enabled" ng-change="aersiaCtrl.toggleScrollSmooth()" /><div className="topcoat-checkbox__checkmark"></div>Scroll Smooth</label></div>
                </section>
              </div>
              <!-- Song remix information -->
              <div className="infopane-v space" ng-show="aersiaCtrl.songs[aersiaCtrl.curSong].remixes.length >= 0">
                <div>Remixes
                  <div className="playlist">
                    <li ng-click="aersiaCtrl.playSong($index)"
                      ng-repeat="song in aersiaCtrl.songs[aersiaCtrl.curSong].remixes track by $index">{{song.creator}} - {{song.title}}</li>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div id="tab-layout" className="effeckt-tab-content">
            <div id="layoutbox" className="infopane-h space">
              <!-- boxes are created here for each layout -->
            </div>
          </div>

          <div id="tab-theme" className="effeckt-tab-content">
            <section>
              <div><label>
                Presets
                <select name="preset" ng-model="aersiaCtrl.selectedPreset" onChange={aersiaCtrl.loadPreset} />
                  <option ng-repeat="(option,style) in aersiaCtrl.presetStyles" value="{{option}}">{{option}}</option>
                </select>
              </label></div>
            </section>
            <div className="sep"></div>
            <section>
              <div><label><input type="color" name="colorfocus" ng-model="aersiaCtrl.currentStyles.focus" ng-change="aersiaCtrl.changeStyle('focus');" />Focus</label></div>
              <div><label><input type="color" name="colorbackground" ng-model="aersiaCtrl.currentStyles.background" ng-change="aersiaCtrl.changeStyle('background');" />Background</label></div>
              <div><label><input type="color" name="colorcontrast" ng-model="aersiaCtrl.currentStyles.contrast" ng-change="aersiaCtrl.changeStyle('contrast');" />Contrast</label></div>
              <div><label><input type="color" name="coloractive" ng-model="aersiaCtrl.currentStyles.active" ng-change="aersiaCtrl.changeStyle('active');" />Active</label></div>
              <div><label><input type="color" name="colorscrollbar" ng-model="aersiaCtrl.currentStyles.scrollbar" ng-change="aersiaCtrl.changeStyle('scrollbar');" />Scrollbar</label></div>
              <div><label><input type="color" name="colorloadbar" ng-model="aersiaCtrl.currentStyles.loadbar" ng-change="aersiaCtrl.changeStyle('loadbar');" />Loadbar</label></div>
              <div className='sep'></div>
              <section>
                <span>Controls Border</span>
                <div>
                  <input type="color" name="colorcontrolsoutstart" ng-model="aersiaCtrl.currentStyles.controlsout['0%']" ng-change="aersiaCtrl.changeGradient('controlsout');" />
                  <input type="color" name="colorcontrolsoutend" ng-model="aersiaCtrl.currentStyles.controlsout['100%']" ng-change="aersiaCtrl.changeGradient('controlsout');" />
                </div>
              </section>
              <section>
                <span>Controls</span>
                <div>
                  <input type="color" name="colorcontrolsinstart" ng-model="aersiaCtrl.currentStyles.controlsin['0%']" ng-change="aersiaCtrl.changeGradient('controlsin');" />
                  <input type="color" name="colorcontrolsinend" ng-model="aersiaCtrl.currentStyles.controlsin['100%']" ng-change="aersiaCtrl.changeGradient('controlsin');" />
                </div>
              </section>
              <div className="sep"></div>
              <section>
                <button className="topcoat-button" ng-click="aersiaCtrl.triggerUpload()">Import</button>
                <button className="topcoat-button" ng-click="aersiaCtrl.exportStyles()">Export</button>
              </section>
            </section>
          </div>

        </div>
      </div>
    </div>
    <div className="vbox">

      <!-- this can be moved under controls-container if I want the gradient to inherit -->
      <div id="messagebox" className="hidden"><span></span><div id="mboxclose" className='closebutton ui-icon ui-icon-circle-close'></div></div>

      <div id="streambox" className="hidden">
        <div className="hbox nogrow"> <!-- Image and controls near image -->
          <div className="vbox"><img id="sboxSongImg" className="fade" src="assets/img/placeholder.png" /></div>
        </div>

        <!-- Song information, links, etc. -->
        <div className="infopane-h">
          <div className="vbox songinfo">
            <li id="sboxSongTitle">Loading...</li>
            <li id="sboxSongCreator">Loading...</li>
          </div>
        </div>

        <div className="controls-container">
          <div><div className="controls-text"><!--%= friendlyname --> v<!--%= version --></div></div>

          <ClickableIcon onClick={aersiaCtrl.toggleOptionsBox} glyph="gear" />
          </div>
        </div>
      </div>

      <div className="controls-container fullwidth" id="mainControls">
  			<audio> <p>Your browser does not support the <code>audio</code> element.</p> </audio>
        <ClickableIconToggle glyphs={['play', 'pause']} onClick={aersiaCtrl.togglePlay} />
        <ClickableIcon onClick={() => aersiaCtrl.seek(-1)} glyph="prev" />
        </div>
        <ClickableIcon onClick={() => aersiaCtrl.seek(1)} glyph="next" />
        </div>
        <div id="timebox">
          <div className="controls-text" id="timeProgText"></div>
          <div className="vbox">
            <div id="timeline" ng-click="aersiaCtrl.seekBar($event);">
              <div id="loadBar"></div>
              <div id="playedBar"></div>
            </div>
            <div id="playhead"></div>
          </div>
          <div className="controls-text" id="timeLoadPct"></div>
        </div>
        <div id="controlsInfoBox" className="hidden">
          <div>
            <span className="controls-text" id="controlsProgText"></span>
            <span className="controls-text divide" >/</span>
            <span className="controls-text" id="controlsLoadPct"></span>
          </div>

          <div>
            <span className="controls-text" id="controlsSongTitle">Loading...</span>
            <span className="controls-text divide" >-</span>
            <span className="controls-text" id="controlsSongCreator">Loading...</span>
          </div>

          <div className="controls-text"><!--%= friendlyname --> v<!--%= version --></div>
        </div>
        <ClickableIcon glyph="gear" onClick={aersiaCtrl.toggleOptionsBox} />
        <ClickableIcon onClick={aersiaCtrl.toggleFullscreen} glyph="fullscreen" />
        <div className="volbox hbox">
          <ClickableIconToggle glyphs={['volMute', 'vol']} onClick={aersiaCtrl.toggleMute} />
          <div id="volumeBar" onClick={() => aersiaCtrl.volume($event)} />
          <div id="volumeMax" onClick={() => aersiaCtrl.volume('',1)} />
        </div>
      </div>

      <div className="playlist-container hbox">
        <div className="release"><!--%= release --></div>
        <div className="playlist vbox hidden" id="playlist">
          <li ng-click="aersiaCtrl.playSong($index)"
            ng-repeat="song in aersiaCtrl.songs track by $index">{{song.creator}} - {{song.title}}</li>
        </div>
      </div>
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="assets/js/vendor/jquery-1.11.2.min.js"><\/script>')</script>

    <!-- JS Scripts --><!--%= jsdeps -->
  </body>
</html>
